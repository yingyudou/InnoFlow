<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>项目详情 - InnoFlow</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/animation.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-left">
            <img src="assets/logo.svg" alt="InnoFlow" class="nav-logo">
            <span class="nav-title">InnoFlow</span>
        </div>
        <div class="nav-right" style="display: flex; gap: 12px; align-items: center;">
            <button class="btn-secondary nav-subscribe-btn" onclick="window.location.href='subscription.html'" style="padding: 6px 14px; font-size: 13px;">
                💎 订阅
            </button>
            <button class="btn-secondary" onclick="window.location.href='dashboard.html'">返回主页</button>
            <button class="btn-secondary" onclick="logout()" style="color: #dc3545; border-color: #dc3545; padding: 6px 14px; font-size: 13px;">退出</button>
        </div>
    </nav>

    <div class="container">
        <div class="project-header">
            <div class="project-header-left">
                <h1 id="projectTitle">智能家居控制系统</h1>
                <div class="project-meta">
                    <span class="meta-item">创建于 2025-10-15</span>
                    <span class="meta-item">负责人: 张伟</span>
                </div>
            </div>

            <div class="project-header-right">
                <div class="team-avatars">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%235B4FE8'/%3E%3Ctext x='50' y='65' font-size='40' fill='white' text-anchor='middle' font-family='Arial'%3E张%3C/text%3E%3C/svg%3E" alt="成员" onclick="window.location.href='team.html'" style="cursor: pointer;">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23F03D8E'/%3E%3Ctext x='50' y='65' font-size='40' fill='white' text-anchor='middle' font-family='Arial'%3E李%3C/text%3E%3C/svg%3E" alt="成员" onclick="window.location.href='team.html'" style="cursor: pointer;">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%2300D4AA'/%3E%3Ctext x='50' y='65' font-size='40' fill='white' text-anchor='middle' font-family='Arial'%3E王%3C/text%3E%3C/svg%3E" alt="成员" onclick="window.location.href='team.html'" style="cursor: pointer;">
                    <div class="avatar-more" onclick="window.location.href='team.html'" style="cursor: pointer;">+5</div>
                </div>
            </div>
        </div>

        <div class="progress-section">
            <div class="progress-label">
                <span>整体进度</span>
                <span class="progress-percent">60%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 60%"></div>
            </div>
        </div>

        <div class="stages-container">
            <div class="stage-timeline"></div>

            <div class="stage-card" data-stage="discover" onclick="window.location.href='idea.html?project=' + encodeURIComponent(document.getElementById('projectTitle').textContent)">
                <div class="stage-icon">🔍</div>
                <h3>发现阶段</h3>
                <p class="stage-desc">问题探索与机会识别</p>
                <div class="stage-progress">
                    <div class="progress-bar small">
                        <div class="progress-fill" style="width: 100%"></div>
                    </div>
                    <span class="stage-status completed">已完成</span>
                </div>
                <div class="stage-stats">
                    <span>💡 23 个想法</span>
                    <span>👥 8 位参与者</span>
                </div>
            </div>

            <div class="stage-card" data-stage="define" onclick="window.location.href='define.html?project=' + encodeURIComponent(document.getElementById('projectTitle').textContent)">
                <div class="stage-icon">📋</div>
                <h3>定义阶段</h3>
                <p class="stage-desc">需求分析与方案设计</p>
                <div class="stage-progress">
                    <div class="progress-bar small">
                        <div class="progress-fill" style="width: 80%"></div>
                    </div>
                    <span class="stage-status active">进行中</span>
                </div>
                <div class="stage-stats">
                    <span>📄 12 个文档</span>
                    <span>✅ 8/10 任务</span>
                </div>
            </div>

            <div class="stage-card" data-stage="develop" onclick="window.location.href='version.html?project=' + encodeURIComponent(document.getElementById('projectTitle').textContent)">
                <div class="stage-icon">⚙️</div>
                <h3>开发阶段</h3>
                <p class="stage-desc">原型开发与迭代测试</p>
                <div class="stage-progress">
                    <div class="progress-bar small">
                        <div class="progress-fill" style="width: 40%"></div>
                    </div>
                    <span class="stage-status active">进行中</span>
                </div>
                <div class="stage-stats">
                    <span>🌳 v1.2.0</span>
                    <span>🔧 6 个模块</span>
                </div>
            </div>

            <div class="stage-card" data-stage="deliver" onclick="window.location.href='deliver.html?project=' + encodeURIComponent(document.getElementById('projectTitle').textContent)">
                <div class="stage-icon">🚀</div>
                <h3>交付阶段</h3>
                <p class="stage-desc">成果交付与推广应用</p>
                <div class="stage-progress">
                    <div class="progress-bar small">
                        <div class="progress-fill" style="width: 0%"></div>
                    </div>
                    <span class="stage-status pending">未开始</span>
                </div>
                <div class="stage-stats">
                    <span>📊 0 个交付物</span>
                    <span>🛠️ AI 工具</span>
                </div>
            </div>
        </div>

        <div class="quick-actions">
            <div class="section-header" style="margin-bottom: 20px;">
                <h3 style="white-space: nowrap; flex-shrink: 0; margin: 0; font-size: 20px; font-weight: 600;">扩展工具</h3>
                <button class="btn-primary" onclick="window.location.href='toolstore.html'" style="flex-shrink: 0; white-space: nowrap; padding: 6px 12px; font-size: 13px; width: auto !important; min-width: auto;">
                    🛒 工具商店
                </button>
            </div>
            <div class="tool-grid" id="toolGrid">
                <!-- 工具卡片将由 JS 动态生成 -->
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
</body>
</html>
